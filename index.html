<!DOCTYPE html>
<html ng-app="gup">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>Map</title>
        <meta name="description" content="">
        <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=0, target-densitydpi=device-dpi" />

	<base href="/">

        <link href='http://fonts.googleapis.com/css?family=Raleway:400,500,600,700' rel='stylesheet' type='text/css'>
	<!-- css -->
	<link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.6/leaflet.css" />
        <link rel="stylesheet" href="styles/css/screen.css">

	<!-- vendor includes -->        
        <!--[if lt IE 9]>
        <script src="//html5shim.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
	<!-- jquery and plugins -->
	<script src="http://code.jquery.com/jquery-1.9.1.min.js" type="text/javascript"></script>
        <script src="http://code.jquery.com/ui/1.10.3/jquery-ui.js"></script>
        <script src="scripts/vendor/jquery.mousewheel.js"></script>
        <script src="scripts/vendor/sly.js"></script>
        <script src="scripts/vendor/moment.min.js"></script>

	<!-- FIXME mehdi script, move it -->
	<script src="/scripts/vendor/script.js"></script>

	<!-- google services -->
	<script src="https://maps.googleapis.com/maps/api/js?v=3&amp;sensor=false"></script>

	<!-- leaflet -->
	<script src="http://cdn.leafletjs.com/leaflet-0.6/leaflet.js" type="text/javascript"></script>
	
	<!-- angular -->
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.1.5/angular.min.js"></script>
	<script src="scripts/vendor/angular-cookies.min.js"></script>
	<script src="scripts/vendor/angular-resource-tastypie.js"></script>
	<script src="scripts/vendor/http-auth-interceptor.js"></script>
        <script src="scripts/vendor/angular-imageupload.js"></script>

	<!-- Common -->
	<script src="scripts/lib/common/controllers.js"></script>
	<script src="scripts/lib/common/filters.js"></script>
	<script src="scripts/lib/common/services.js"></script>
	
	<!-- Map module -->
	<script src="scripts/lib/map/services.js"></script>
	<script src="scripts/lib/map/controllers.js"></script>
	<script src="scripts/lib/map/directives.js" type="text/javascript"></script>
	
	<!-- main app -->
	<script src="scripts/app.js"></script>

    </head>
    <body>
        <div id="page">
            <!-- Définition des masques svg pour les illustrations -->
            <svg height="184" width="248" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg">
                <mask id="mask1">
                    <image width="248" height="184" xlink:href="images/mask.png"></image>
                </mask>
            </svg>
            <!--
            <svg height="282" width="378" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg">
                <mask id="mask2">
                    <image width="378" height="282" xlink:href="images/mask_big.png"></image>
                </mask>
            </svg>-->


            <!-- Fin de définition -->

	    <!-- background map -->
	    <div ng-controller="MapDetailCtrl">
	      <leaflet center="MapService.center" tilelayers="MapService.tilelayers" id="background-map">
		<div ng-repeat="marker in MapService.markers">
		  <leaflet-marker marker="marker">
		    <div ng-include src="'views/map/marker_card.html'"></div>
		  </leaflet-marker>
		</div>
	      </leaflet>
	      
	    </div>

	    <!-- overlay panel app -->
	    <div id="overlay-panel" ng-view>
	    </div>


              

        <!-- left sidebar -->
        <div id="toolbar">
            <ul>
                <li class="item1"><a href="#">Accueil</a></li>
                <li class="item2"><a href="#/marker/new">Ajouter</a></li>
                <li class="item3"><a href="#">Rechercher</a></li>
                <li class="item4"><a href="#">Sélection</a></li>
                <li class="item5"><a href="#">Discussions</a></li>
            </ul>
        </div>

	    <!-- right sidebar -->
	    <!--
	    <div id="sidebar">
	      <section id="default-panel">
    		<h1>MAP</h1>
    		<div class="actions">
    		  <a href="/marker/detail/1">Signaler un problème</a>
    		  <a href="/marker/new">Ajouter un point d'intêret</a>
    		</div>

              </section>
	    </div>
	    -->

	    

        </div>
        <div ng-controller="LoginCtrl" id="wrap-login" ng-show="loginrequired">
            <div id="inner-login">
                <div class="left">
                    <div class="title">Entrez votre identifiant pour vous connecter</div>
            		<form name="loginForm">
                      <p>
                          <label for="login-field">Email</label>
            		      <input id="login-field" type="text" ng-model="username" placeholder="Votre ou numéro machin..." required>
                      </p>
                      <p>
                          <label for="pass-field">Password</label>
            		      <input id="pass-field" type="password" ng-model="password" placeholder="Votre mot de passe..." required>
                      </p>
            		  <button ng-click="submit()" class="submit">Login</button>
                      <a class="forgotten" href="#">Mot de passe oublié ?</a>
            		</form>
                </div>
                <div class="right">
                    <ul>
                        <li><button class="account">S'inscrire</button></li>
                        <li><button class="gplus">Google +</button></li>
                        <li><button class="facebook">Facebook</button></li>
                    </ul>
                </div>
                <a href="javascript:void(0)" class="close">Fermer</a>
            </div>
        </div>
        <!--
        <footer>
            <nav>
                <ul>
                    <li><a href="javascript:void(0)">Menu 1</a></li>
                    <li><a href="javascript:void(0)">Menu 2</a></li>
                    <li><a href="javascript:void(0)">Menu 3</a></li>
                    <li><a href="javascript:void(0)">Menu végé</a></li>
                </ul>
            </nav>
        </footer>
        -->
    </body>
</html>

